"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7224],{47224:function(e,t,n){n.r(t);var r=n(40624),a=n(31955),o=n(33299),i=n(67294);t.default=()=>{let{data:e,status:t}=(0,o.useSession)();return(0,i.useEffect)(()=>{let e=a.Z.get("au_id");"unauthenticated"!==t||e?"authenticated"===t&&e&&(async()=>{try{let t=await (0,r.Hk)(e);t&&a.Z.remove("au_id")}catch(e){}})():(async()=>{try{let e=await (0,r.tJ)();a.Z.set("au_id",e.au_id)}catch(e){}})()},[t,e]),null}},40624:function(e,t,n){n.d(t,{Hk:function(){return p},Lj:function(){return d},et:function(){return s},p0:function(){return l},tJ:function(){return f},xv:function(){return c}});var r=n(9669),a=n.n(r),o=n(69941),i=n(58431);let u=e=>Date.now()-Date.parse(e)<3e5,c=async(e,t)=>{try{let n=await a().post(o.JD,{...t&&t},{headers:{Authorization:"Bearer ".concat(e)}});return n.data}catch(e){return console.error(e.message),null}},s=async e=>{try{var t,n,r,i;let c=await a().get(o.JD,{headers:{Authorization:"Bearer ".concat(e)}});if(null===(t=c.data)||void 0===t?void 0:t[0])return{...null===(n=c.data)||void 0===n?void 0:n[0],newUser:u(null===(i=c.data)||void 0===i?void 0:null===(r=i[0])||void 0===r?void 0:r.user_joined)};throw"User Profile does not exist"}catch(e){return console.error("Failed to get user profile"),null}},d=async(e,t,n)=>{try{let r=await a().patch("".concat(o.JD).concat(t,"/"),n,{headers:{Authorization:"Bearer ".concat(e)}});return r.data}catch(e){return console.error(e.message),null}},l=async()=>{var e;let t=await i.Z.get("/api/user-wallet/");return null===(e=t.data)||void 0===e?void 0:e[0]},f=async()=>{let e=await i.Z.post("/access/anonymous-user-api/");return e.data},p=async e=>{let t=await i.Z.post("/access/update-anonymus-user/",{au_id:e});return t.data}},31955:function(e,t,n){/*! js-cookie v3.0.5 | MIT */function r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}n.d(t,{Z:function(){return a}});var a=function e(t,n){function a(e,a,o){if("undefined"!=typeof document){"number"==typeof(o=r({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var u in o)o[u]&&(i+="; "+u,!0!==o[u]&&(i+="="+o[u].split(";")[0]));return document.cookie=e+"="+t.write(a,e)+i}}return Object.create({set:a,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},a=0;a<n.length;a++){var o=n[a].split("="),i=o.slice(1).join("=");try{var u=decodeURIComponent(o[0]);if(r[u]=t.read(i,u),e===u)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){a(e,"",r({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,r({},this.attributes,t))},withConverter:function(t){return e(r({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}}]);